
## 동시성 이슈 분석 보고서
- - - 
### 이슈 식별
1. 포인트 충전 동시 요청
    - 포인트 잔액을 변경하는 접근 동시 발생 가능 
2. 포인트 충전 / 결제 동시 요청
   - 포인트 잔액을 변경하는 접근 동시 발생 가능
3. 결제 동시 요청
    - 포인트 잔액을 변경하는 접근 동시 발생 가능
    - 결제 상태를 변경하는 접근 동시 발생으로 uncommitted change 발생 가능
      - TxA: 결제 중 예외 -> TxB: 결제 성공 -> TxA: rollback  
4. 쿠폰 사용 동시 요청
    - 하나의 쿠폰이 여러 번 사용 되는 케이스 발생 가능
5. 쿠폰 사용 / 쿠폰이 적용된 주문 취소 동시 요청
   - 쿠폰 사용 상태를 변경하는 접근 동시 발생으로 동일 쿠폰 중복 사용 발생 가능
6. 쿠폰 발급 동시 요청
    - 쿠폰 재고 상태를 변경하는 접근 동시 재고 수량 불일치 가능
    - 쿠폰 재고 상태의 불일치로 쿠폰 중복 발급 가능
7. 주문 동시 요청
    - 상품 재고를 변경하는 접근 동시 발생으로 재고 수량 불일치 가능
    - 상품 재고 상태의 불일치로 재고가 없는 경우의 잘못된 주문 발생 가능
8. 주문 취소 동시 요청
    - 상품 재고를 변경하는 접근 동시 발생으로 재고 수량 불일치 가능
9. 주문/주문 취소 동시 요청
    - 상품 재고를 변경하는 접근 동시 발생으로 재고 수량 불일치 가능

### 이슈 분석

이슈번호 | 이슈명 | 충돌빈도 | 조회빈도 | 무결성중요도
--- | --- |---|---| ---
1 | 포인트 충전 동시 요청 | 낮음   | 중간 | 높음
2 | 포인트 충전 / 결제 동시 요청 | 낮음   | 중간 | 높음
3 | 결제 동시 요청 | 낮음   | 중간 | 높음
4 | 쿠폰 사용 동시 요청 | 낮음   | 낮음 | 중간
5 | 쿠폰 사용 / 쿠폰이 적용된 주문 취소 동시 요청 | 낮음   | 낮음 | 중간
6 | 쿠폰 발급 동시 요청 | 높음   | 낮음 | 중간
7 | 주문 동시 요청 | 높음   | 중간 | 중간
8 | 주문 취소 동시 요청 | 높음 | 중간 | 중간
9 | 주문/주문 취소 동시 요청 | 높음 | 중간 | 중간
